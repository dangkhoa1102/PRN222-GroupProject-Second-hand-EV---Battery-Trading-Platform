@page "{id?}"
@model GroupProject.Pages.VehicleListings.UpsertModel
@{
    ViewData["Title"] = Model.IsEdit ? "Ch·ªânh s·ª≠a tin ƒëƒÉng" : "T·∫°o tin ƒëƒÉng m·ªõi";
}

<div class="listing-container">
    <div class="listing-card">
        <div class="listing-card__header">
            <span class="listing-icon">üöó</span>
            <div>
                <h1 class="listing-card__title">@ViewData["Title"]</h1>
                <p class="listing-card__subtitle">Nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin ƒë·ªÉ tin ƒëƒÉng c·ªßa b·∫°n n·ªïi b·∫≠t v√† ƒë∆∞·ª£c ph√™ duy·ªát nhanh ch√≥ng.</p>
            </div>
        </div>

        @if (Model.IsEdit && Model.IsApprovedListing)
        {
            <div class="alert alert-info mb-4">
                Tin xe ƒë√£ ƒë∆∞·ª£c duy·ªát. M·ªçi ch·ªânh s·ª≠a s·∫Ω hi·ªÉn th·ªã ngay cho kh√°ch h√†ng ƒëang xem tin n√†y.
            </div>
        }

        @if (!string.IsNullOrEmpty(Model.ErrorMessage))
        {
            <div class="alert alert-danger mb-4">@Model.ErrorMessage</div>
        }

        <div asp-validation-summary="ModelOnly" class="alert alert-danger mb-4" role="alert"></div>

        <form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
            <input type="hidden" asp-for="Input.ImageUrl" />
            <div class="form-section-title">Th√¥ng tin t·ªïng quan</div>
            <div class="form-grid two-col">
                <div class="input-field">
                    <label asp-for="Input.Brand" class="form-label"></label>
                    <input asp-for="Input.Brand" class="form-control" placeholder="VD: Tesla, VinFast..." />
                    <span asp-validation-for="Input.Brand" class="text-danger small"></span>
                </div>
                <div class="input-field">
                    <label asp-for="Input.Model" class="form-label"></label>
                    <input asp-for="Input.Model" class="form-control" placeholder="Model S 2019..." />
                    <span asp-validation-for="Input.Model" class="text-danger small"></span>
                </div>
                <div class="input-field">
                    <label asp-for="Input.Year" class="form-label"></label>
                    <input asp-for="Input.Year" class="form-control" placeholder="2020" />
                    <span asp-validation-for="Input.Year" class="text-danger small"></span>
                </div>
                <div class="input-field">
                    <label asp-for="Input.BatteryCapacity" class="form-label"></label>
                    <input asp-for="Input.BatteryCapacity" class="form-control" placeholder="100 kWh" />
                    <span asp-validation-for="Input.BatteryCapacity" class="text-danger small"></span>
                </div>
                <div class="input-field">
                    <label class="form-label" for="PriceInput">Gi√° b√°n mong mu·ªën</label>
                    <input class="form-control" id="PriceInput" name="PriceInput" value="@Model.PriceInput" placeholder="Nh·∫≠p gi√° mong mu·ªën (vd: 9000000.00)" />
                    <span asp-validation-for="PriceInput" class="text-danger small"></span>
                    <div class="form-helper">N√™n tham kh·∫£o gi√° th·ªã tr∆∞·ªùng ƒë·ªÉ d·ªÖ ph√™ duy·ªát.</div>
                </div>
                <div class="input-field">
                    <label asp-for="Input.Condition" class="form-label"></label>
                    <input asp-for="Input.Condition" class="form-control" placeholder="M·ªõi 90%, b·∫£o d∆∞·ª°ng ƒë·ªãnh k·ª≥..." />
                    <span asp-validation-for="Input.Condition" class="text-danger small"></span>
                </div>
                <div class="input-field">
                    <label asp-for="Input.Mileage" class="form-label"></label>
                    <input asp-for="Input.Mileage" class="form-control" placeholder="S·ªë km ƒë√£ ƒëi" />
                    <span asp-validation-for="Input.Mileage" class="text-danger small"></span>
                </div>
            </div>

            <div class="form-section-title">M√¥ t·∫£ & h√¨nh ·∫£nh</div>
            <div class="form-grid">
                <div class="input-field">
                    <label asp-for="Input.Description" class="form-label"></label>
                    <textarea asp-for="Input.Description" class="form-control" rows="4" placeholder="N√™u r√µ t√¨nh tr·∫°ng, l·ªãch b·∫£o d∆∞·ª°ng, ph·ª• ki·ªán ƒëi k√®m..."></textarea>
                    <span asp-validation-for="Input.Description" class="text-danger small"></span>
                </div>
                <div class="input-field">
                    <label class="form-label" asp-for="ImageFile">·∫¢nh minh h·ªça</label>
                    <input asp-for="ImageFile" class="form-control" type="file" accept="image/*" />
                    <span asp-validation-for="ImageFile" class="text-danger small"></span>
                    <div class="form-helper">Ch·ªçn ·∫£nh r√µ n√©t, ch·ª•p nhi·ªÅu g√≥c ƒë·ªô. ·∫¢nh t·ªëi ƒëa 5MB.</div>
                    @if (!string.IsNullOrEmpty(Model.Input.ImageUrl))
                    {
                        <div class="form-helper mt-2">·∫¢nh hi·ªán t·∫°i:</div>
                        <img src="@Model.Input.ImageUrl" alt="·∫¢nh hi·ªán t·∫°i" class="listing-preview" />
                    }
                </div>
            </div>

            <div class="listing-footer">
                <a asp-page="Index" class="btn btn-secondary">Quay l·∫°i danh s√°ch</a>
                <button type="submit" class="btn btn-primary px-4">L∆∞u tin ƒëƒÉng</button>
            </div>
        </form>
    </div>

    <aside class="listing-aside">
        <h2>Nh·∫Øc b·∫°n chu·∫©n b·ªã</h2>
        <ul>
            <li>Gi·∫•y t·ªù xe ch√≠nh ch·ªß, l·ªãch s·ª≠ b·∫£o d∆∞·ª°ng ƒë·ªÉ tƒÉng ƒë·ªô tin c·∫≠y.</li>
            <li>·∫¢nh ch·ª•p xe ngo√†i tr·ªùi, c√≥ √°nh s√°ng t·ª± nhi√™n.</li>
            <li>M√¥ t·∫£ r√µ r√†ng t√¨nh tr·∫°ng pin, qu√£ng ƒë∆∞·ªùng di chuy·ªÉn.</li>
            <li>ƒê·∫£m b·∫£o ·∫£nh t·∫£i l√™n kh√¥ng m·ªù, kh√¥ng ch·ª©a th√¥ng tin nh·∫°y c·∫£m.</li>
        </ul>

        <div class="tip-card">
            <strong>Tip v·ªÅ gi√°:</strong> Ghi nh·∫≠n c√°c tin t∆∞∆°ng t·ª± gi√∫p b·∫°n ƒë·∫∑t gi√° c·∫°nh tranh v√† ƒë∆∞·ª£c duy·ªát nhanh.
        </div>
    </aside>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

