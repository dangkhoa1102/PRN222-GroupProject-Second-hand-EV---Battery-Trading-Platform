@page "{id?}"
@model GroupProject.Pages.BatteryListings.UpsertModel
@{
    ViewData["Title"] = Model.IsEdit ? "Ch·ªânh s·ª≠a tin pin" : "ƒêƒÉng pin m·ªõi";
}

<div class="listing-container">
    <div class="listing-card">
        <div class="listing-card__header">
            <span class="listing-icon">üîã</span>
            <div>
                <h1 class="listing-card__title">@ViewData["Title"]</h1>
                <p class="listing-card__subtitle">Chia s·∫ª th√¥ng tin pin m·ªôt c√°ch chi ti·∫øt ƒë·ªÉ ng∆∞·ªùi mua d·ªÖ d√†ng ƒë√°nh gi√° v√† staff duy·ªát nhanh.</p>
            </div>
        </div>

        @if (Model.IsEdit && Model.IsApprovedListing)
        {
            <div class="alert alert-info mb-4">
                Tin pin ƒë√£ ƒë∆∞·ª£c duy·ªát. M·ªçi ch·ªânh s·ª≠a s·∫Ω √°p d·ª•ng ngay cho kh√°ch h√†ng ƒëang xem.
            </div>
        }

        @if (!string.IsNullOrEmpty(Model.ErrorMessage))
        {
            <div class="alert alert-danger mb-4">@Model.ErrorMessage</div>
        }

        <div asp-validation-summary="ModelOnly" class="alert alert-danger mb-4" role="alert"></div>

        <form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
            <input type="hidden" asp-for="Input.ImageUrl" />
            <div class="form-section-title">Th√¥ng tin pin</div>
            <div class="form-grid two-col">
                <div class="input-field">
                    <label asp-for="Input.BatteryType" class="form-label"></label>
                    <input asp-for="Input.BatteryType" class="form-control" placeholder="Lithium-ion, LFP..." />
                    <span asp-validation-for="Input.BatteryType" class="text-danger small"></span>
                </div>
                <div class="input-field">
                    <label asp-for="Input.Brand" class="form-label"></label>
                    <input asp-for="Input.Brand" class="form-control" placeholder="Panasonic, CATL..." />
                    <span asp-validation-for="Input.Brand" class="text-danger small"></span>
                </div>
                <div class="input-field">
                    <label asp-for="Input.Capacity" class="form-label"></label>
                    <input asp-for="Input.Capacity" class="form-control" placeholder="90 kWh" />
                    <span asp-validation-for="Input.Capacity" class="text-danger small"></span>
                </div>
                <div class="input-field">
                    <label asp-for="Input.Voltage" class="form-label"></label>
                    <input asp-for="Input.Voltage" class="form-control" placeholder="400V" />
                    <span asp-validation-for="Input.Voltage" class="text-danger small"></span>
                </div>
                <div class="input-field">
                    <label asp-for="Input.Condition" class="form-label"></label>
                    <input asp-for="Input.Condition" class="form-control" placeholder="M·ªõi 85%, b·∫£o qu·∫£n t·ªët..." />
                    <span asp-validation-for="Input.Condition" class="text-danger small"></span>
                </div>
                <div class="input-field">
                    <label asp-for="Input.HealthPercentage" class="form-label"></label>
                    <input asp-for="Input.HealthPercentage" class="form-control" placeholder="T·ª∑ l·ªá SOH" />
                    <span asp-validation-for="Input.HealthPercentage" class="text-danger small"></span>
                </div>
                <div class="input-field">
                    <label class="form-label" for="PriceInput">Gi√° b√°n mong mu·ªën</label>
                    <input class="form-control" id="PriceInput" name="PriceInput" value="@Model.PriceInput" placeholder="Nh·∫≠p gi√° mong mu·ªën (vd: 1200000.00)" />
                    <span asp-validation-for="PriceInput" class="text-danger small"></span>
                    @* <div class="form-helper">N√™u r√µ ƒë√£ bao g·ªìm ph√≠ l·∫Øp ƒë·∫∑t, v·∫≠n chuy·ªÉn hay ch∆∞a.</div> *@
                </div>
            </div>

            <div class="form-section-title">M√¥ t·∫£ & h√¨nh ·∫£nh</div>
            <div class="form-grid">
                <div class="input-field">
                    <label asp-for="Input.Description" class="form-label"></label>
                    <textarea asp-for="Input.Description" class="form-control" rows="4" placeholder="N√™u r√µ ngu·ªìn g·ªëc, th·ªùi gian s·ª≠ d·ª•ng, ch·∫ø ƒë·ªô s·∫°c..."></textarea>
                    <span asp-validation-for="Input.Description" class="text-danger small"></span>
                </div>
                <div class="input-field">
                    <label class="form-label" asp-for="ImageFile">·∫¢nh minh h·ªça</label>
                    <input asp-for="ImageFile" class="form-control" type="file" accept="image/*" />
                    <span asp-validation-for="ImageFile" class="text-danger small"></span>
                    <div class="form-helper">·∫¢nh n√™n ch·ª•p tem th√¥ng s·ªë, t√¨nh tr·∫°ng b·ªÅ m·∫∑t pin. Gi·ªõi h·∫°n 5MB.</div>
                    @if (!string.IsNullOrEmpty(Model.Input.ImageUrl))
                    {
                        <div class="form-helper mt-2">·∫¢nh hi·ªán t·∫°i:</div>
                        <img src="@Model.Input.ImageUrl" alt="·∫¢nh hi·ªán t·∫°i" class="listing-preview" />
                    }
                </div>
            </div>

            <div class="listing-footer">
                <a asp-page="Index" class="btn btn-secondary">Quay l·∫°i danh s√°ch</a>
                <button type="submit" class="btn btn-primary px-4">L∆∞u tin ƒëƒÉng</button>
            </div>
        </form>
    </div>

    <aside class="listing-aside">
        <h2>Chu·∫©n b·ªã tr∆∞·ªõc khi ƒëƒÉng</h2>
        <ul>
            <li>Ki·ªÉm tra v√† ghi ch√∫ s·ªë chu k·ª≥ s·∫°c, m·ª©c ƒë·ªô xu·ªëng pin.</li>
            <li>·∫¢nh ch·ª•p pin ·ªü nhi·ªÅu g√≥c, r√µ c·ªïng k·∫øt n·ªëi, ph·ª• ki·ªán.</li>
            <li>N√™u r√µ pin d√πng cho d√≤ng xe n√†o, ch√≠nh s√°ch b·∫£o h√†nh.</li>
            <li>ƒê·∫£m b·∫£o ·∫£nh t·∫£i l√™n r√µ n√©t, kh√¥ng ch·ª©a th√¥ng tin nh·∫°y c·∫£m.</li>
        </ul>

        <div class="tip-card">
            <strong>G·ª£i √Ω:</strong> Th√™m th√¥ng tin v·ªÅ ch·ª©ng ch·ªâ an to√†n, l·ªãch s·ª≠ s·ª≠ d·ª•ng pin gi√∫p ng∆∞·ªùi mua y√™n t√¢m h∆°n.
        </div>
    </aside>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

